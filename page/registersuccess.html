<!DOCTYPE html>
<html>
<head>
<title>注册成功 - e路同心手机官网</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="Expires" content="0">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-control" content="no-cache">
<meta charset="UTF-8">
<meta name="author" content="e路同心,88bank.com，深圳市同心科创金融服务有限公司" />
<meta name="keywords" content="e路同心，P2P理财平台，高收益，安全有保障，互联网金融">
<meta name="description" content="e路同心是总部位于深圳的一家国资背景互联网金融P2P理财平台，致力于为中小企业和个人投资者提供投融资信息中介服务。平台与优质小贷公司紧密合作，通过安全稳定的互联网平台实现跨区域资源配置的匹配与撮合，致力于为中小企业提供融资新渠道，并为个人提供创新型投资理财服务。">
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta content="telephone=no" name="format-detection" />
<link rel="Bookmark" href="../favicon.ico">
<link rel="Shortcut Icon" href="../favicon.ico" />
<link rel="stylesheet" type="text/css" href="../css/main/global.css?v=20160318"/>
<link rel="stylesheet" type="text/css" href="../css/main/public.css?v=20160322"/>
<link rel="stylesheet" type="text/css" href="../css/iconfont/iconfont.css?v=20160311" />
<script type="text/javascript">
    var basePath = '..';
</script>
<style>
.spread38{display:none;}
.m-spread38{margin-left:30px;margin-right:30px;border-top:1px solid #ddd;padding:10px 20px;}
.m-spread38 h2{line-height:30px;font-size:14px;font-weight:700;}
.m-spread38 p{line-height:20px;font-size:14px;text-indent:2em;color:#666;}
</style>
</head>
<body>
<div class="m-page bgf4 pb-60 wp">
    <div class="g-mainer bgfff">
        <div class="m-mainer">
            <!--  注册成功提示 -->
            <div id="zcsuccess">
                <div class="m-result text-c pt-20 pb-20">
                    <div class="mn"><i class="iconfont">&#xe60f;</i>恭喜你注册成功</div>
                    <div class="f-14 l30"><span class="bold orange" id="awardAmt">0</span>元体验金已放入您的账户 </div>
                </div>
                <div class="baseh bgf4"></div>
                <div class="relayplay"><a href="user/spread_act.html"><img src="../images/banner/relayplay.png" width="100%"></a>
                    <div class="baseh bgf4"></div>
                </div>
            </div>
            <div class="m-identity">
                <div class="m-form w90 pt-20 pb-20">
                    <div class="formline formline2">
                        <i class="iconfont tticon">&#xe612;</i>
                        <input type="text" id="realname" name="realname" class="input-text size-XL"
                               placeholder="请输入真实姓名" onblur="checkRealname()" autocomplete="off" maxlength="20">
                    </div>
                    <div class="formline formline2">
                        <i class="iconfont tticon">&#xe603;</i>
                        <input type="text" id="idcard" name="idcard" class="input-text size-XL" placeholder="请输入身份证号"
                               onblur="checkIdcard()" autocomplete="off" maxlength="18">
                    </div>
                    <div class="ft w84 mt-10">
                        <p id="warn1" class="pb-10 f-14"></p><!-- 友情提示 -->
                        <p id="error1" class="pb-10 f-14"></p><!-- 错误提示 -->
                        <div class="formline">
                            <button type="button" id="submit" class="btn btn-orange size-XL btn-block"
                                    onclick="onSubmit()">认证领取0元红包
                            </button>
                        </div>
                    </div>
                    <div class="text-c mt-10 c-999 f-12">完成实名认证 可保障投资权益、账户安全</div>
                </div>
            </div>
        </div>
    </div>
    <div class="g-extra">
        <div class="baseh"></div>
        <div class="m-project2">
            <div class="item">
                <div class="extra"><img src="../images/bid/label_newer2.png"></div>
                 <table class="table">
                    <tr><td width="45%">新手体验标</td>
                        <td width="35%"><span class="small">年化</span>&nbsp;<span class="f-16 orange">6.88%</span> </td>
                        <td width="20%"><span class="f-16 orange">3</span><span class="small">天</span></td>
                        <td><a href="invest/taste_info.html" class="btn btn-orange">投体验金</a><div
                                class="desc1 f-12 c-999">你有<span class="orange">0</span>元体验金</div></td>
                    </tr>
                </table>
            </div>
         </div>
         <div class="baseh"></div>
    </div>
<footer class="g-footer">
    <div class="m-footer clearfix">
         <a href="index.html" id="nav_home"><i class="iconfont">&#xe619;</i><h2>首页</h2></a>
         <a href="invest/invest_list.html" id="nav_tz"><i class="iconfont">&#xe618;</i><h2>投资</h2></a>
         <a href="login.html" id="nav_user"><i class="iconfont">&#xe61a;</i><h2>账户</h2></a>
         <a href="help/security.html" id="nav_help"><i class="iconfont">&#xe61b;</i><h2>帮助</h2></a>
    </div>
</footer>
</div>
<script type="text/javascript" src="../lib/jquery.min.js?v=20160120"></script>
<script type="text/javascript" src="../lib/layer/layer.m.js?v=20160120"></script>
<script type="text/javascript" src="../js/public.js?v=20160120"></script>
<script type="text/javascript">
    $(function () {
        $("#nav_user").addClass("on");
    })
    /**1.2 身份证号码验证 */
    function isIdCardNo(num) {
        var factorArr = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2, 1);
        var parityBit = new Array("1", "0", "X", "9", "8", "7", "6", "5", "4", "3", "2");
        var varArray = new Array();
        var intValue;
        var lngProduct = 0;
        var intCheckDigit;
        var intStrLen = num.length;
        var idNumber = num;
        // initialize
        if ((intStrLen != 15) && (intStrLen != 18)) {
            return false;
        }
        // check and set value
        for (i = 0; i < intStrLen; i++) {
            varArray[i] = idNumber.charAt(i);
            if ((varArray[i]<'0'||varArray[i]>'9')&&(i!= 17)) {
                return false;
            } else if (i < 17) {
                varArray[i] = varArray[i] * factorArr[i];
            }
        }
        if (intStrLen == 18) {
            //check date
            var date8 = idNumber.substring(6, 14);
            if (isDate8(date8) == false) {
                return false;
            }
            // calculate the sum of the products
            for (i = 0; i < 17; i++) {
                lngProduct = lngProduct + varArray[i];
            }
            // calculate the check digit
            intCheckDigit = parityBit[lngProduct % 11];
            // check last digit
            if (varArray[17] != intCheckDigit) {
                return false;
            }
        }
        else {        //length is 15
            //check date
            var date6 = idNumber.substring(6, 12);
            if (isDate6(date6) == false) {
                return false;
            }
        }
        return true;
    }
    /*1.3 检查是否成人*/
    function chk18(idcard) {
        var intStrLen = idcard.length;
        var year, month, day;
        if (intStrLen == 18) {
            //check date
            var date8 = idcard.substring(6, 14);
            year = Number(date8.substring(0, 4));
            month = Number(date8.substring(4, 6));
            day = Number(date8.substring(6, 8));
        }
        else if (intStrLen == 15) {        //length is 15
            //check date
            var date6 = idcard.substring(6, 12);
            year = Number("19" + date6.substring(0, 2));
            month = Number(date6.substring(2, 4));
            day = Number(date6.substring(4, 6));
        } else {
            return false;
        }

        var nDate = new Date();
        var n_year = nDate.getFullYear();
        var n_month = nDate.getMonth() + 1;
        var n_day = nDate.getDate();
        if (n_year - year < 18) {
            return false;
        } else if (n_year - year == 18) {
            if (n_month < month) {
                return false;
            } else if (n_month == month) {
                if (n_day < day) return false;
            }
        }
        return true;
    }

    var nameReg = /^[\u4E00-\u9FA5]{2,7}(?:·[\u4E00-\u9FA5]{2,7})*$/;
    /*2.1 验证真实姓名*/
    function checkRealname() {
        var _val = $("#realname").val();
        $("#error1").html("");
        if (_val == "") {
            $("#error1").html('<span class="errortip">真实姓名不能为空</span>').show();
            return false;
        }
        if (!(nameReg.test(_val))) {
            $("#error1").html('<span class="errortip">姓名必须是2-15个汉字</span>').show();
            return false;
        }
        return true;
    }
    /*2.2 验证身份证号*/
    function checkIdcard() {
        var _val = $("#idcard").val()
        $("#error1").html("");
        if (_val == "") {
            $("#error1").html('<span class="errortip">身份证号码不能为空</span>').show();
            return false;
        }
        if (!isIdCardNo(_val)) {
            $("#error1").html('<span class="errortip">请输入正确的身份证号码</span>').show();
            return false;
        }
        if (!chk18(_val)) {
            $("#error1").html('<span class="errortip">未满18周岁不允许投资</span>').show();
            return false;
        }
        return true;
    }
    /*2.3 表单提交*/
    function onSubmit() {
        if (checkRealname() && checkIdcard()) {
            var realname = encodeURI($("#realname").val());
            var idcard = $("#idcard").val();
            $.ajax({
                url: "../accountmgr/authenticate/action",
                type: 'POST',
                data: {realname: realname, idcard: idcard},
                dataType: 'json',
                cache: false,
                async: true,
                success: function (data) {
                    var result = $.parseJSON(data);
                    if (result.success) {
                        location.href = "../accountmgr/authenticate/success";
                    } else {
                        $("#error1").html('<span class="errortip">' + result.msg + '</span>').show();
                    }
                }
            });
        }
    }

    /**
     * 判断是否为“YYYYMMDD”式的时期
     *
     */
    function isDate8(sDate) {
        if (!/^[0-9]{8}$/.test(sDate)) {
            return false;
        }
        var year, month, day;
        year = sDate.substring(0, 4);
        month = sDate.substring(4, 6);
        day = sDate.substring(6, 8);
        var iaMonthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
        if (year<1700||year>2500) return false;
        if (((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0)) iaMonthDays[1] = 29;
        if (month<1||month>12) return false;
        if (day<1||day>iaMonthDays[month - 1]) return false;
        return true;
    }
</script>
</body>
</html>